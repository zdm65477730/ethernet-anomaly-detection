%% 持续学习机制（自动更新模型以适应新环境）
flowchart LR
    A[系统运行中] --> B[定时检查新数据<br/>(默认每小时)]
    
    B --> C{新数据量是否充足?}
    C -->|否| A
    C -->|是| D[加载新数据<br/>(含人工标注+自动标签)]
    
    D --> E{是否满足全量重训条件?}
    E -->|是<br/>(每周/性能下降)| F[执行全量重训<br/>(用历史+新数据)]
    
    E -->|否| G{模型支持增量训练?}
    G -->|是<br/>(XGBoost/在线LSTM)| H[执行增量训练<br/>(仅用新数据)]
    G -->|否<br/>(随机森林等)| F
    
    F --> I[评估新模型性能]
    H --> I
    
    I --> J{新模型是否优于当前模型?}
    J -->|是| K[部署新模型<br/>(更新latest链接)]
    J -->|否| L[丢弃新模型<br/>(保留当前模型)]
    
    K --> M[更新性能基线<br/>(记录模型指标)]
    L --> M
    M --> A
    
    %% 辅助流程
    N[人工反馈] --> D
    O[系统监控指标<br/>(误报率/漏报率)] --> E